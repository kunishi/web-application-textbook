# セキュリティ

- 安全確保、機密保持
- バグに起因
- 通信が絡むとデータを守るべき箇所が増える
- ユーザとしてのセキュリティ（使っているパソコン + α）→開発者としてのセキュリティ（サーバ、クライアント、通信路）

## 通信における危険性

一般に、通信におけるセキュリティ上の危険には、次の3つが考えられる。

- 盗聴：通信路を流れるデータを第三者が盗み見る
- 改ざん：通信路を流れるデータを第三者が不正に書き換える
- なりすまし：第三者が正規の通信相手に成り代わり通信を行い、不正な行為を行う

インターネットにおける通信では、これらのセキュリティ上の危険に対し、**公開鍵基盤**（Public Key Infrastructure, PKI）という公開鍵暗号方式を基礎とする解決策が広く用いられている。特にWebでは、PKIを利用したセキュアな通信方式である**TLS**(Transport Layer Security)[^1]が広く用いられる。TLSはトランスポート層(TCP, UDP)とアプリケーション層の間に置かれるプロトコルであり、Web(HTTP)だけでなく、FTP, LDAP, TELNETなどのアプリケーション層プロトコルでも利用できる。

特に、TLS上で実現されるHTTP通信プロトコルを**HTTPS**と呼ぶ。

[^1]: 以前は**SSL**(Secure Socket Layer)というアルゴリズムが使われていたが、セキュリティ上の不備がアルゴリズムに発見されたため、現在はその後継であるTLSを用いるのが普通である。ただし「PKIを用いたWebにおけるセキュアな通信」の総称として「SSL」という言葉を用いることも少なくない。

## 暗号化技術

TLSの説明をする前に、技術基盤となる暗号化について簡単に解説しておこう。

データに対し、後で元に戻せるような変換を施すことを **エンコード** (符号化, encode)という。

## SSL/TLS
TODO: 講義ではかなり詳しく話しているので、それを踏まえて内容を書き足す。

- 盗聴の対策…暗号化
    - 暗号の基本的な考え方
        - アルゴリズム＋送信者・受信者で共有する秘密の情報（鍵）でデータを暗号化・復号
    - 共有鍵暗号 vs. 公開鍵暗号
        - 共有鍵暗号の致命的な欠点：共有鍵をいかに安全に共有するか
    - SSL/TLSでの方法
        - 共有鍵の受け渡しに公開鍵暗号を用いる
- 改ざんの対策…データダイジェスト
    - SHA1, MD5などのアルゴリズムでデータの数学的な要約（ダイジェスト）を作る
    - データ＋ダイジェストを送信、受信者は受け取ったデータからダイジェストを計算し、受け取ったダイジェストと比較
    - ダイジェスト関数 digest(x) の性質
        - x1 ≠ x2 なら常に digest(x1) ≠ digest(x2)
        - x1 = x2 なら常に digest(x1) = digest(x2)